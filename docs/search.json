[{"path":"https://bafg-bund.pages.github.io/ntsportal/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kevin S. Jewell. Author, maintainer.           Federal Institute Hydrology (BfG) Koblenz, Germany Ole Lessmann. Author.           Federal Institute Hydrology (BfG) Koblenz, Germany Jonas Skottnik. Author.           Federal Institute Hydrology (BfG) Koblenz, Germany Franziska Thron. Author.           Federal Institute Hydrology (BfG) Koblenz, Germany Arne Wick. Author.           Federal Institute Hydrology (BfG) Koblenz, Germany","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jewell, K., Thron, F., Schlüsener, M., Kramer, K., Scharrenbach, T., Fettig, ., Koschorreck, J., Schulte, C., Ternes, T., & Wick, . (2021). Ein Datenbankmodell für aggregierte Non-Target-Screening-Ergebnisse. Vom Wasser, 119(3), 94-96. https://doi.org/10.1002/vomw.202100020","code":"@Article{,   title = {Ein Datenbankmodell für aggregierte Non-Target-Screening-Ergebnisse},   journal = {Vom Wasser},   volume = {119},   number = {3},   pages = {94-96},   year = {2021},   author = {{Jewell} and Kevin S. and {Thron} and {Franziska} and {Schlüsener} and {Michael} and {Kramer} and {K.} and {Scharrenbach} and {T.} and {Fettig} and {I.} and {Koschorreck} and {J.} and {Schulte} and {C.} and {Ternes} and Thomas A. and {Wick} and {Arne}}, }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/index.html","id":"ntsportal","dir":"","previous_headings":"","what":"NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany","title":"NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany","text":"goal ntsportal provide database online dashboard non-target-screening (based LC/GC-HRMS measurements) surface waters. system designed archive processed data carry simple data analysis online dashboards. detailed statistical analysis, API can used accessing data scripts. system currently uses Elasticsearch DBMS. R-package used processing data building database. included scripts automated data processing use ntsworkflow. Latest information structure internal design ntsportal found wiki. German government agencies, access internally managed NTSPortal database available. Please contact authors Federal Institute Hydrology. repository includes back-end code open-source development purposes include environmental data.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/index.html","id":"project-funding","dir":"","previous_headings":"","what":"Project Funding","title":"NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany","text":"project initiated research funding grant Federal Environment Agency (UBA, “Online Portal: Non-Target-Screening für die Umweltüberwachung der Zukunft” REFOPLAN 3720222010) continued funding provided research grant REFOPLAN 3723222020 (“Weiterentwicklung des Online Portals für die Umweltbeobactung der Zukunft”). Additional funding provided Federal Ministry Digital Transport Federal Ministry Environment Consumer Protection.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany","text":"Copyright 2025 Bundesanstalt für Gewässerkunde (Federal Institute Hydrology) ntsportal free software: can redistribute /modify terms GNU General Public License published Free Software Foundation, either version 3 License, (option) later version. ntsportal distributed hope useful, WITHOUT WARRANTY; without even implied warranty MERCHANTABILITY FITNESS PARTICULAR PURPOSE. See GNU General Public License details. received copy GNU General Public License along ntsportal. , see https://www.gnu.org/licenses/. use package derivative thereof, please cite work. cite work please use following citation run citation(\"ntsportal\"). Kevin S. Jewell, Ole Lessmann, Franziska Thron, Jonas Skottnik, Iris Tuchscherer, Arne Wick Thomas . Ternes (2025). ntsportal: Non-Target Screening Data Archive Distribution Tool. R package version 25.1","code":""},{"path":[]},{"path":"https://bafg-bund.pages.github.io/ntsportal/index.html","id":"installation-via-github","dir":"","previous_headings":"","what":"Installation via Github","title":"NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany","text":"Create Github PAT Add , following line, ~/.Rprofile Restart R session Install ntsportal Install Python requirements","code":"Sys.setenv(GITHUB_PAT = \"<...>\") remotes::install_github(\"bafg-bund/ntsportal\") reticulate::virtualenv_install(requirements = fs::path_package(\"ntsportal\", \"pythonElasticComm\", \"requirements.txt\"))"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Add new records for MS measurement files to msrawfiles index — addRawfiles","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"Add new records MS measurement files msrawfiles index","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"","code":"addRawfiles(   rfIndex,   templateId,   newPaths,   newStart = \"filename\",   newStation = \"same_as_template\",   dirMeasurmentFiles = \"/srv/cifs-mounts/g2/G/G2/HRMS/Messdaten/\",   promptBeforeIngest = TRUE,   saveDirectory = getwd(),   newStationList = list(station = \"example_new_station\", loc = list(lat = 1.23456, lon =     1.23456), river = \"example_new_river\", gkz = 99999, km = 99999) )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"templateId ES-ID existing msrawfiles-record use template newPaths Character vector full paths new rawfiles added, must mzXML files. newStart Either \"filename\" (default), meaning extract start time filename provide start date 8 digit number \"YYYYMMDD\" newStation Either \"same_as_template\" (default), copy value template document, \"filename\", meaning extract station loc values code filename (compare docs msrawfiles index) \"newStationList\" add new station. See details. dirMeasurmentFiles Root directory original measurement files located. function look original (vendor) files directory . Must end \"/\". promptBeforeIngest user asked verify submission? (Default: TRUE). file called \"add-rawfiles-check.json\" created saveDirectory user can check make changes . See details \"making manual changes\". saveDirectory Location save temporary json file checking making manual changes. (defaults current working dir) newStationList List fields \"station\" \"loc\" optionally \"river\", \"gkz\" \"km\" add new station. see details rfindex index name rawfiles index","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"Returns vector new ES-IDs generated imported documents","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"Adding location information (`station` `loc` fields)   newStation can either \"same_as_template\", \"filename\" \"newStationList\". Using \"same_as_template\" means station location information copied template Using \"filename\" means use `dbas_station_regex` field index get station information   another record index. function use regex extract station code filename   search msrawfiles index records station code. unambiguous location found,   gather available location information use new record entry. option useful batch   added contains one station. Using \"newStationList\" means new fixed station name location passed (use list argument   \"newStationList\" fields \"station\" \"loc\" optionally \"river\", \"gkz\" \"km\") \"loc\" geopoint   fields \"lat\" \"lon\". Station river names lowercase spaces special   characters. station name use convention <river_town_position> position l, r m left,   right, middle. obvious town km known, use convention <river>_<km> station   name. neither town km known, use convention <river>_<description> description   indication location. Adding sample time information (`start` field) Using \"filename\" means sample time extracted filename. field `dbas_date_regex` used   find date sample file name. works conjunction `dbas_date_format`. `dbas_date_regex`   extracts text, `dbas_date_format` tells R interpret text. example, file name   `RH_pos_20170101.mzXML` uses date_regex `\"([20]*\\d6)\"` date_format `\"ymd\"`. `dbas_date_regex` uses   tidyverse regular expression syntax `stringr::str_match` function extract text referring   date. brackets indicate text extract can surrounded anchors. also possible   multiple brackets, text multiple brackets combined parsing. example file   `UEBMS_2024_002_Main_Kahl_Jan_pos_DDA.mzXML` can parsed date_regex `_(20\\d2)_.*_(\\w3)_pos`   date_format `ym`. `dbas_date_format` may one `\"ymd\"`, `\"dmy\"`, `\"ym\"` year-month `\"yy\"` just year. date   parsing done `lubridate`. Making manual changes Manual changes can made json one document added (minimize errors). Select \"c\"   promt (changes json saved). File storage locations location mzXML files stored given argument `newPaths`.`saveDirectory` json   file written . `dirMeasurmentFiles` used look original (non-converted) vendor files (e.g.,   wiff files) read measurement time (copied mzXML file using converters). Depending   number files uploaded, function can slow function look large   directory. improve performance, can tell function look smaller directory. files found   function add creation time mzXML file.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/addRawfiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add new records for MS measurement files to msrawfiles index — addRawfiles","text":"","code":"if (FALSE) { # \\dontrun{ library(ntsportal) connectNtsportal() rfindex <- \"ntsp_msrawfiles\" paths <- list.files(\"/beegfs/nts/ntsportal/msrawfiles/ulm/schwebstoff/dou_pos/\", \"^Ulm.*mzXML$\", full.names = TRUE) templateId <- findTemplateId(rfindex, blank = FALSE, pol = \"pos\", station = \"donau_ul_m\", matrix = \"spm\") addRawfiles(rfindex = rfindex, templateId = templateId, newPaths = paths) checkMsrawfiles()  # Files in batch have different sample location addRawfiles(rfindex, \"eIRBnYkBcjCrX8D7v4H5\", newFiles[4:17], newStation = \"filename\",  dirMeasurmentFiles = \"~/messdaten/sachsen/\")   # Addition of a new station addRawfiles(   rfindex, \"eIRBnYkBcjCrX8D7v4H5\", newFiles[15],    newStation = \"newStationList\",   newStationList = list(     station = \"pleisse_9\",     loc = list(lat = 51.251489, lon = 12.383758),     river = \"pleisse\",     km = 9,     gkz = 5666   ) )  } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeAliasAddress.html","id":null,"dir":"Reference","previous_headings":"","what":"Change alias of an index to a new index. — changeAliasAddress","title":"Change alias of an index to a new index. — changeAliasAddress","text":"delete previous alias","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeAliasAddress.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change alias of an index to a new index. — changeAliasAddress","text":"","code":"changeAliasAddress(indexName, aliasName, closeAfter = FALSE)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeAliasAddress.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change alias of an index to a new index. — changeAliasAddress","text":"indexName Name index aliasName Name alias closeAfter logical, previous index, alias linked prior change, closed?","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeAliasAddress.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change alias of an index to a new index. — changeAliasAddress","text":"Passes response ES (acknowledged field, TRUE FALSE), invisibly","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfileFilename.html","id":null,"dir":"Reference","previous_headings":"","what":"Change filename in the msrawfiles-db and on the filesystem — changeMsrawfileFilename","title":"Change filename in the msrawfiles-db and on the filesystem — changeMsrawfileFilename","text":"function change filename path doc.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfileFilename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change filename in the msrawfiles-db and on the filesystem — changeMsrawfileFilename","text":"","code":"changeMsrawfileFilename(rfIndex, oldPath, newPath)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfileFilename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change filename in the msrawfiles-db and on the filesystem — changeMsrawfileFilename","text":"rfIndex index name msrawfiles index oldPath original path newPath updated path","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfileFilename.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change filename in the msrawfiles-db and on the filesystem — changeMsrawfileFilename","text":"True (invisibly) successful","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":null,"dir":"Reference","previous_headings":"","what":"Change the path of one document in msrawfiles — changeMsrawfilePath","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"secure method changing path doc msrawfiles. Filename changed must remain .","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"","code":"changeMsrawfilePath(rfIndex, oldPath, newPath, checkType = \"md5\")"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"rfIndex index name rawfiles index oldPath Current path rawfiles index, file must exist (1 file) newPath New path, file must exist (1 file) checkType Method check files , either \"md5\" (default) \"filesize\"","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"TRUE change successful (invisibly)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"files must exist making change. function takes time compares md5-checksums two files. large numbers files use filesize check.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/changeMsrawfilePath.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change the path of one document in msrawfiles — changeMsrawfilePath","text":"","code":"if (FALSE) { # \\dontrun{ library(ntsportal) connectNtsportal()  ind <- \"ntsp_msrawfiles\" res <- esSearchPaged(ind, sort = \"path\", searchBody = list(query = list(regexp = list(path = \"/srv.*\"))), source = \"path\")$hits$hits partToRemove <- \"/srv/cifs-mounts/g2/G/G2/HRMS/Messdaten/\" paths <- sapply(res, function(x) x[[\"_source\"]]$path) oldPaths <- data.frame(oldPath = paths, relPath = sub(partToRemove, \"\", paths)) relPaths <- list.files(\"/beegfs/nts/ntsportal/msrawfiles\", recursive = T) newPaths <- data.frame(   newPath = paste0(\"/beegfs/nts/ntsportal/msrawfiles/\", relPaths),   relPath = relPaths )  oldAndNewPaths <- merge(oldPaths, newPaths, all.x = T, by = \"relPath\")  for (i in 1:nrow(oldAndNewPaths)) {   changeMsrawfilePath(ind, oldAndNewPaths$oldPath[i], oldAndNewPaths$newPath[i], checkType = \"filesize\")   } } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkMsrawfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Check an msrawfile index for validity — checkMsrawfiles","title":"Check an msrawfile index for validity — checkMsrawfiles","text":"function connects elasticsearch checks given msrawfiles index according current validation routine.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkMsrawfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check an msrawfile index for validity — checkMsrawfiles","text":"","code":"checkMsrawfiles(indexName = \"ntsp_msrawfiles\")"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkMsrawfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check an msrawfile index for validity — checkMsrawfiles","text":"indexName default: ntsp_msrawfiles","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkMsrawfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check an msrawfile index for validity — checkMsrawfiles","text":"TRUE","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkPngAvailability.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that PNGs for structural formulae are consistent with the spectral library — checkPngAvailability","title":"Check that PNGs for structural formulae are consistent with the spectral library — checkPngAvailability","text":"Check PNGs structural formulae consistent spectral library","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkPngAvailability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that PNGs for structural formulae are consistent with the spectral library — checkPngAvailability","text":"","code":"checkPngAvailability(databasePath, targetDir)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/checkPngAvailability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that PNGs for structural formulae are consistent with the spectral library — checkPngAvailability","text":"databasePath Path spectral library (sqlite) targetDir Path PNGs stored","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/connectNtsportal.html","id":null,"dir":"Reference","previous_headings":"","what":"Set ElasticSearch credentials and create ElasticSearch connection object — connectNtsportal","title":"Set ElasticSearch credentials and create ElasticSearch connection object — connectNtsportal","text":"credentials available, create \"escon\" connection object global environment use functions. Otherwise ask input credentials (interactive use). function uses keyring package store retrieve credentials. working Linux console, 'file' backend must used, see https://keyring.r-lib.org/reference/backends.html. can set Sys.setenv(\"R_KEYRING_BACKEND\" = \"file\")","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/connectNtsportal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set ElasticSearch credentials and create ElasticSearch connection object — connectNtsportal","text":"","code":"connectNtsportal()"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/convertToRecord.dbasResult.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a dbasResult to a list of featureRecords — convertToRecord.dbasResult","title":"Convert a dbasResult to a list of featureRecords — convertToRecord.dbasResult","text":"Convert dbasResult list featureRecords","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/convertToRecord.dbasResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a dbasResult to a list of featureRecords — convertToRecord.dbasResult","text":"","code":"# S3 method for class 'dbasResult' convertToRecord(scanResult, msrawfileRecords)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/convertToRecord.dbasResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a dbasResult to a list of featureRecords — convertToRecord.dbasResult","text":"","code":"if (FALSE) { # \\dontrun{ dbComm <- getDbComm() recs <- getTableAsRecords(   dbComm,    \"ntsp25.1_msrawfiles\",    searchBlock = list(query = list(regexp = list(filename = \"Des_.._.._pos.mzXML\"))),    newMsrawfilesRecord ) recsBlanks <- getTableAsRecords(   dbComm,    \"ntsp25.1_msrawfiles\",    searchBlock = list(query = list(regexp = list(path = \".*mud_pos/BW.*\"))),    newMsrawfilesRecord ) res <- scanBatchDbas(c(recs, recsBlanks), \"Methyltriphenylphosphonium\") featureRecs <- convertToRecord(res, c(recs, recsBlanks)) } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createAllStructures.html","id":null,"dir":"Reference","previous_headings":"","what":"Create images of structural formulas for display in Kibana dashboard — createAllStructures","title":"Create images of structural formulas for display in Kibana dashboard — createAllStructures","text":"Create images structural formulas display Kibana dashboard","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createAllStructures.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create images of structural formulas for display in Kibana dashboard — createAllStructures","text":"","code":"createAllStructures(databasePath, targetDir)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createAllStructures.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create images of structural formulas for display in Kibana dashboard — createAllStructures","text":"databasePath Path spectral library (sqlite) targetDir Path PNGs stored","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createAllStructures.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create images of structural formulas for display in Kibana dashboard — createAllStructures","text":"return value","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createBackupMsrawfiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a backup of an msrawfiles index — createBackupMsrawfiles","title":"Create a backup of an msrawfiles index — createBackupMsrawfiles","text":"create backup index current date name (<msrawfilesName>_backup_<YYYYMMDD>). overwrite index unless overwrite = TRUE. backup index immediately closed interfere.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createBackupMsrawfiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a backup of an msrawfiles index — createBackupMsrawfiles","text":"","code":"createBackupMsrawfiles(msrawfilesName, overwrite = FALSE)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createBackupMsrawfiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a backup of an msrawfiles index — createBackupMsrawfiles","text":"msrawfilesName name index back overwrite logical, existing index overwritten (default false)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/createBackupMsrawfiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a backup of an msrawfiles index — createBackupMsrawfiles","text":"returns name new table","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningNewBatches.html","id":null,"dir":"Reference","previous_headings":"","what":"DBAS process all measurement files which have not yet been processed — dbaScreeningNewBatches","title":"DBAS process all measurement files which have not yet been processed — dbaScreeningNewBatches","text":"determine files yet processed, function collects directories msrawfiles looks feature indices see missing.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningNewBatches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DBAS process all measurement files which have not yet been processed — dbaScreeningNewBatches","text":"","code":"dbaScreeningNewBatches(msrawfileIndex, saveDirectory, numParallel = 1)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningNewBatches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBAS process all measurement files which have not yet been processed — dbaScreeningNewBatches","text":"msrawfileIndex Name index processing information stored saveDirectory Location SLURM job files saved numParallel local parallel processing via future","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningOneBatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Process one batch of msrawfile records — dbaScreeningOneBatch","title":"Process one batch of msrawfile records — dbaScreeningOneBatch","text":"Process one batch msrawfile records","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningOneBatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process one batch of msrawfile records — dbaScreeningOneBatch","text":"","code":"dbaScreeningOneBatch(msrawfileRecords, saveDirectory)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatches.html","id":null,"dir":"Reference","previous_headings":"","what":"DBAS process selected measurement files via batch directory — dbaScreeningSelectedBatches","title":"DBAS process selected measurement files via batch directory — dbaScreeningSelectedBatches","text":"Choose batches process selecting directory measurement files stored.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DBAS process selected measurement files via batch directory — dbaScreeningSelectedBatches","text":"","code":"dbaScreeningSelectedBatches(   msrawfileIndex,   batchDirs,   saveDirectory,   numParallel = 1 )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBAS process selected measurement files via batch directory — dbaScreeningSelectedBatches","text":"msrawfileIndex Name index processing information stored batchDirs Directory measurement files (recursive, multiple permitted) saveDirectory Location SLURM job files saved numParallel local parallel processing via future","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatchesSlurm.html","id":null,"dir":"Reference","previous_headings":"","what":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","title":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","text":"Choose batches process selecting directory measurement files stored. function create necessary files submission job workflow manager SLURM.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatchesSlurm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","text":"","code":"dbaScreeningSelectedBatchesSlurm(   msrawfileIndex,   batchDirs,   saveDirectory,   email )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatchesSlurm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","text":"msrawfileIndex Name index processing information stored batchDirs Directory measurement files (recursive, multiple permitted) saveDirectory Location SLURM job files saved email Address SLURM notifications","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatchesSlurm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","text":"Three files created, records files process, organized batches (.RDS); R script SLURM needs run, SLURM job file. command needed start process given message (may need switch SLURM-enabled server).","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/dbaScreeningSelectedBatchesSlurm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"DBAS process batches by directory using the workload manager — dbaScreeningSelectedBatchesSlurm","text":"","code":"if (FALSE) { # \\dontrun{ userEmail <- \"example@bafg.de\" dirResults <- \"processingResults\" msrawfileIndexName <- \"ntsp25.1_msrawfiles\" library(ntsportal) connectNtsportal() file.remove(list.files(dirResults, f = T))  dbaScreeningSelectedBatchesSlurm(   msrawfileIndex = msrawfileIndexName,   batchDirs = \"/root/dir/all/msrawfiles\",   saveDirectory = dirResults,   email = userEmail ) } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/DbComm-class.html","id":null,"dir":"Reference","previous_headings":"","what":"DbComm interface — DbComm-class","title":"DbComm interface — DbComm-class","text":"DbComm interface","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/deleteTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete a table — deleteTable","title":"Delete a table — deleteTable","text":"Delete table","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/deleteTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete a table — deleteTable","text":"","code":"deleteTable(dbComm, tableName)  # S4 method for class 'PythonDbComm' deleteTable(dbComm, tableName)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/deleteTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete a table — deleteTable","text":"dbComm DbComm connection object tableName Name table database","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/esSearchPaged.html","id":null,"dir":"Reference","previous_headings":"","what":"Get search results for more than 10000 docs by pagination. — esSearchPaged","title":"Get search results for more than 10000 docs by pagination. — esSearchPaged","text":"local function","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/esSearchPaged.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get search results for more than 10000 docs by pagination. — esSearchPaged","text":"","code":"esSearchPaged(   indexName,   searchBody = list(query = list(match_all = stats::setNames(list(), character(0)))),   sort,   totalSize = Inf,   ... )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/esSearchPaged.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get search results for more than 10000 docs by pagination. — esSearchPaged","text":"indexName Name ElasticSearch index searchBody search body, default return docs sort Sort argument passed onto elastic::Search. Defines field results sorted (best unique docs avoid ties) currently can one field may '_id'. totalSize  ... arguments elastic::Search, asdf argument work now.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/esSearchPaged.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get search results for more than 10000 docs by pagination. — esSearchPaged","text":"ElasticSearch API response list","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/esSearchPaged.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get search results for more than 10000 docs by pagination. — esSearchPaged","text":"","code":"if (FALSE) { # \\dontrun{ connectNtsportal() res <- esSearchPaged(\"ntsp25.1_dbas*\", searchBody = list(query = list(term = list(station = \"mosel_ko_r\"))),    source = c(\"name\", \"inchikey\", \"pol\", \"start\", \"duration\", \"area\"), sort = \"mz\")  # Convert the returned list to a data.frame temp <- lapply(res$hits$hits, function(x) as.data.frame(x[[\"_source\"]])) df <- plyr::rbind.fill(temp) } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/es_error_handler.html","id":null,"dir":"Reference","previous_headings":"","what":"Handle errors from ElasticSearch — es_error_handler","title":"Handle errors from ElasticSearch — es_error_handler","text":"Errors ElasticSearch returned package 'elastic' text. function take error condition take appropriate action.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/es_error_handler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Handle errors from ElasticSearch — es_error_handler","text":"","code":"es_error_handler(thisCnd)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/es_error_handler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Handle errors from ElasticSearch — es_error_handler","text":"thisCnd Error condition thrown `tryCatch` context","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/es_error_handler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Handle errors from ElasticSearch — es_error_handler","text":"return value","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/findTemplateId.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ID based on search parameters — findTemplateId","title":"Get ID based on search parameters — findTemplateId","text":"Get ID based search parameters","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/findTemplateId.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ID based on search parameters — findTemplateId","text":"","code":"findTemplateId(   rfIndex,   blank = FALSE,   pol = \"pos\",   station = \"rhein_ko_l\",   matrix = \"spm\",   duration = 365 )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/findTemplateId.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get ID based on search parameters — findTemplateId","text":"rfIndex index name rawfiles index pol Either \"pos\" \"neg\", default \"pos\" station Station ID name matrix character default \"spm\" duration numeric, default 365 isBlank boolean default FALSE","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/findTemplateId.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ID based on search parameters — findTemplateId","text":"ES-ID template record msrawfiles index","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getDbComm.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a DbComm interface object using the constructor given by the ntsportal.dbComm option — getDbComm","title":"Make a DbComm interface object using the constructor given by the ntsportal.dbComm option — getDbComm","text":"Make DbComm interface object using constructor given ntsportal.dbComm option","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getDbComm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a DbComm interface object using the constructor given by the ntsportal.dbComm option — getDbComm","text":"","code":"getDbComm()"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getNrow.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the number of rows in a table — getNrow","title":"Get the number of rows in a table — getNrow","text":"Get number rows table","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getNrow.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the number of rows in a table — getNrow","text":"","code":"getNrow(dbComm, tableName, searchBlock = list())  # S4 method for class 'PythonDbComm' getNrow(dbComm, tableName, searchBlock = list())"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getNrow.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the number of rows in a table — getNrow","text":"dbComm DbComm connection object tableName Name table database searchBlock list coercible json Elasticsearch Search API (Query DSL)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getNrow.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the number of rows in a table — getNrow","text":"integer","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsRecords.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a table as a list of ntspRecords — getTableAsRecords","title":"Get a table as a list of ntspRecords — getTableAsRecords","text":"Get table list ntspRecords","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsRecords.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a table as a list of ntspRecords — getTableAsRecords","text":"","code":"getTableAsRecords(   dbComm,   tableName,   searchBlock = list(),   recordConstructor = newNtspRecord )"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsRecords.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a table as a list of ntspRecords — getTableAsRecords","text":"dbComm DbComm connection object tableName Name table database searchBlock list coercible json Elasticsearch Search API (Query DSL) recordConstructor function construct new records","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsRecords.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a table as a list of ntspRecords — getTableAsRecords","text":"list ntspRecord objects","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsTibble.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a table as a tibble — getTableAsTibble","title":"Get a table as a tibble — getTableAsTibble","text":"Get table tibble","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsTibble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a table as a tibble — getTableAsTibble","text":"","code":"getTableAsTibble(dbComm, tableName, searchBlock = list())"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsTibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a table as a tibble — getTableAsTibble","text":"dbComm DbComm connection object tableName Name table database searchBlock list coercible json Elasticsearch Search API (Query DSL)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/getTableAsTibble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a table as a tibble — getTableAsTibble","text":"tibble","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ingest.html","id":null,"dir":"Reference","previous_headings":"","what":"Ingest of json.gz files into Elasticsearch — ingest","title":"Ingest of json.gz files into Elasticsearch — ingest","text":"processing output gzip-compressed json file batch (one large batches). ingested NTSPortal Elasticsearch.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ingest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ingest of json.gz files into Elasticsearch — ingest","text":"","code":"ingest(path)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ingest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ingest of json.gz files into Elasticsearch — ingest","text":"path Path single json.gz file directory json.gz files.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ingest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ingest of json.gz files into Elasticsearch — ingest","text":"list one top-level entry per batch (json.gz file). second level one entry per alias contains character vector index name associated alias.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/isTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Does a table exist? — isTable","title":"Does a table exist? — isTable","text":"table exist?","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/isTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Does a table exist? — isTable","text":"","code":"isTable(dbComm, tableName)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/isTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Does a table exist? — isTable","text":"dbComm DbComm connection object tableName Name table database","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/isTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Does a table exist? — isTable","text":"logical, true table exists","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/msrawfilesSetVersion.html","id":null,"dir":"Reference","previous_headings":"","what":"Change msrawfiles to a new version — msrawfilesSetVersion","title":"Change msrawfiles to a new version — msrawfilesSetVersion","text":"Change msrawfiles new version","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/msrawfilesSetVersion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change msrawfiles to a new version — msrawfilesSetVersion","text":"","code":"msrawfilesSetVersion(msrawfilesName, version)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/msrawfilesSetVersion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change msrawfiles to a new version — msrawfilesSetVersion","text":"msrawfilesName Name msrawfiles table version New version number","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/msrawfilesSetVersion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change msrawfiles to a new version — msrawfilesSetVersion","text":"","code":"if (FALSE) { # \\dontrun{ msrawfilesSetVersion(\"msrawfiles\", \"25.1\") } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ntsportal-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ntsportal: NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany — ntsportal-package","title":"ntsportal: NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany — ntsportal-package","text":"package provides functionality building managing NTSPortal database","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ntsportal-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ntsportal: NTSPortal database backend. Federal Institute of Hydrology, Koblenz, Germany — ntsportal-package","text":"Maintainer: Kevin S. Jewell jewell@bafg.de (Federal Institute Hydrology (BfG) Koblenz, Germany) Authors: Ole Lessmann lessmann@bafg.de (Federal Institute Hydrology (BfG) Koblenz, Germany) Jonas Skottnik skottnik@bafg.de (Federal Institute Hydrology (BfG) Koblenz, Germany) Franziska Thron thron@bafg.de (Federal Institute Hydrology (BfG) Koblenz, Germany) Arne Wick wick@bafg.de (Federal Institute Hydrology (BfG) Koblenz, Germany)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ntsportal.html","id":null,"dir":"Reference","previous_headings":"","what":"ntsportal: A package for non-target data management — ntsportal","title":"ntsportal: A package for non-target data management — ntsportal","text":"ntsportal: package non-target data management","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ping.html","id":null,"dir":"Reference","previous_headings":"","what":"Test the DB-Connection — ping","title":"Test the DB-Connection — ping","text":"Test DB-Connection","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ping.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test the DB-Connection — ping","text":"","code":"ping(dbComm)  # S4 method for class 'PythonDbComm' ping(dbComm)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ping.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test the DB-Connection — ping","text":"dbComm DbComm connection object","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/ping.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test the DB-Connection — ping","text":"TRUE connection active","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm-class.html","id":null,"dir":"Reference","previous_headings":"","what":"A DbComm interface using the python back-end — PythonDbComm-class","title":"A DbComm interface using the python back-end — PythonDbComm-class","text":"DbComm interface using python back-end","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"A DbComm interface using the python back-end — PythonDbComm-class","text":"client python elasticsearch client object dsl python elasticsearch.dsl import module","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm.html","id":null,"dir":"Reference","previous_headings":"","what":"Create connection to elasticsearch — PythonDbComm","title":"Create connection to elasticsearch — PythonDbComm","text":"Create connection elasticsearch","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create connection to elasticsearch — PythonDbComm","text":"","code":"PythonDbComm(ring = \"ntsportal\")"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create connection to elasticsearch — PythonDbComm","text":"ring","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/PythonDbComm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create connection to elasticsearch — PythonDbComm","text":"PythonDbComm","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/removeRedundantPngs.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete redundant PNGs — removeRedundantPngs","title":"Delete redundant PNGs — removeRedundantPngs","text":"Delete redundant PNGs","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/removeRedundantPngs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete redundant PNGs — removeRedundantPngs","text":"","code":"removeRedundantPngs(databasePath, targetDir)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/removeRedundantPngs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete redundant PNGs — removeRedundantPngs","text":"databasePath Path spectral library (sqlite) targetDir Path PNGs stored","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/resetConnectionCredentials.html","id":null,"dir":"Reference","previous_headings":"","what":"Create connection with new credentials — resetConnectionCredentials","title":"Create connection with new credentials — resetConnectionCredentials","text":"Create connection new credentials","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/resetConnectionCredentials.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create connection with new credentials — resetConnectionCredentials","text":"","code":"resetConnectionCredentials()"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/scanBatchDbas.html","id":null,"dir":"Reference","previous_headings":"","what":"Process a list of msrawfileRecords — scanBatchDbas","title":"Process a list of msrawfileRecords — scanBatchDbas","text":"Process list msrawfileRecords","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/scanBatchDbas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process a list of msrawfileRecords — scanBatchDbas","text":"","code":"scanBatchDbas(records, compsToProcess = NULL, showProgress = FALSE)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/scanBatchDbas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process a list of msrawfileRecords — scanBatchDbas","text":"records list msrawfileRecords compsToProcess Character vector compounds names (Default compounds spectral library) showProgress logical. Show progress bar (interacte use, default false)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/scanBatchDbas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process a list of msrawfileRecords — scanBatchDbas","text":"dbasResult object (list 7 tables) including peakList, reintegrationResults etc.","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/scanBatchDbas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process a list of msrawfileRecords — scanBatchDbas","text":"","code":"if (FALSE) { # \\dontrun{ dbComm <- getDbComm() recs <- getTableAsRecords(   dbComm,    \"ntsp25.1_msrawfiles\",    searchBlock = list(query = list(regexp = list(filename = \"Des_19_.._pos.mzXML\"))),   newMsrawfilesRecord ) recsBlanks <- getTableAsRecords(   dbComm,    \"ntsp25.1_msrawfiles\",    searchBlock = list(query = list(regexp = list(path = \".*mud_pos/BW.*\"))),    newMsrawfilesRecord ) res <- scanBatchDbas(c(recs, recsBlanks), \"Methyltriphenylphosphonium\") } # }"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setCredNonInteractive.html","id":null,"dir":"Reference","previous_headings":"","what":"Set credentials for accessing NTSPortal ElasticSearch — setCredNonInteractive","title":"Set credentials for accessing NTSPortal ElasticSearch — setCredNonInteractive","text":"Set credentials accessing NTSPortal ElasticSearch","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setCredNonInteractive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set credentials for accessing NTSPortal ElasticSearch — setCredNonInteractive","text":"","code":"setCredNonInteractive(ring = \"ntsportal\", usr = character(), pwd = character())"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setCredNonInteractive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set credentials for accessing NTSPortal ElasticSearch — setCredNonInteractive","text":"ring Keyring name, change default usr username, enter manually non-interactive use pwd password, enter manually non-interactive use","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setValueInField.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the value of a field in a table — setValueInField","title":"Set the value of a field in a table — setValueInField","text":"Set value field table","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setValueInField.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the value of a field in a table — setValueInField","text":"","code":"setValueInField(dbComm, tableName, field, value, searchBlock = list())"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/setValueInField.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the value of a field in a table — setValueInField","text":"dbComm DbComm connection object tableName Name table database field table column change value value set field searchBlock list coercible json Elasticsearch Search API (Query DSL)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateLinearRegressionTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the ","title":"Update the ","text":"analysis table shows slope linear regression model compound station yearly composite samples can computed yearly composite samples SPM upb dbas index","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateLinearRegressionTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the ","text":"","code":"updateLinearRegressionTable(sourceTableName)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateLinearRegressionTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the ","text":"sourceTableName Table ntsportal analyzed (dbas_upb)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateSpectralLibrary.html","id":null,"dir":"Reference","previous_headings":"","what":"Update the CSL spectral library on ntsportal — updateSpectralLibrary","title":"Update the CSL spectral library on ntsportal — updateSpectralLibrary","text":"Update CSL spectral library ntsportal","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateSpectralLibrary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update the CSL spectral library on ntsportal — updateSpectralLibrary","text":"","code":"updateSpectralLibrary(rfTableName, specLibTableName)"},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/updateSpectralLibrary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update the CSL spectral library on ntsportal — updateSpectralLibrary","text":"rfTableName Name msrawfiles table specLibTableName Name new spectral library table (old table overwritten)","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/validateRecord.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate that a record is correctly formated — validateRecord","title":"Validate that a record is correctly formated — validateRecord","text":"Validate record correctly formated","code":""},{"path":"https://bafg-bund.pages.github.io/ntsportal/reference/validateRecord.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate that a record is correctly formated — validateRecord","text":"","code":"validateRecord(record)  # S3 method for class 'msrawfilesRecord' validateRecord(record)  # S3 method for class 'featureRecord' validateRecord(record)"}]
