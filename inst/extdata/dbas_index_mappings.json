{
  "mappings" : {
    "dynamic": "strict",
    "runtime": {
      "area_relative_to_internal_standard" : {
        "type": "double",
        "script": {
          "source": "if (params._source.area_internal_standard != null) emit((double)params._source.area / (double)params._source.area_internal_standard)"
        }
      },
      "intensity_relative_to_internal_standard" : {
        "type": "double",
        "script": {
          "source": "if (params._source.intensity_internal_standard != null) emit((double)params._source.intensity / (double)params._source.intensity_internal_standard)"
        }
      }
    },
    "properties" : {
      "area" : {"type" : "float"},
      "intensity" : {"type" : "float"},
      "cas" : {"type" : "keyword"},
      "comment" : {"type" : "text"},
      "comp_group" : {
        "type" : "keyword"
      },
      "conc" : {"type" : "float"},
      "tag": {"type": "keyword"},
      "data_source" : {"type" : "keyword"},
      "sample_source" : {"type" : "keyword"},
      "licence" : {"type" : "keyword"},
      "start" : {
        "type" : "date",
        "format" : "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||yyyy-MM-dd HH:mm"
      },
      "date_measurement" : {
        "type" : "date",
        "format" : "yyyy-MM-dd HH:mm:ss"
      },
      "km": { "type" : "float" },
      "gkz" : { "type" : "integer" },
      "river" : { "type" : "keyword" },
      "duration" : {"type" : "float"},
      "date_import" : {
        "type" : "date",
        "format": "yyyy-MM-dd HH:mm:ss"
      },
      "eic" : {
        "type" : "nested",
        "properties" : {
          "int" : {
            "type" : "float"
          },
          "time" : {
            "type" : "short"
          }
        },
        "enabled": false
      },
      "chrom_method" : {"type" : "keyword"},
      "instrument": { "type" : "text"},
      "loc" : {"type" : "geo_point"},
      "matrix" : {"type" : "keyword"},
      "ms1" : {
        "type" : "nested",
        "properties" : {
          "int" : {
            "type" : "float"
          },
          "mz" : {
            "type" : "float",
            "meta": {"unit": "Da"}
          }
        },
        "enabled": false
      },
      "ms2" : {
        "type" : "nested",
        "properties" : {
          "int" : {
            "type" : "float"
          },
          "mz" : {
            "type" : "float", 
            "meta": {"unit": "Da"}
          }
        }
      },
      "mz" : {"type" : "float", "meta": {"unit": "Da"}},
      "name" : {"type" : "keyword"},
      "internal_standard" : {"type" : "keyword"},
      "area_internal_standard" : {"type" : "float"},
      "intensity_internal_standard" : {"type" : "float"},
      "pol" : {"type" : "keyword"},
      "rt" : {"type" : "float", "meta": {"unit": "min"}},
      "rtt" : {
        "type" : "nested",
        "properties" : {
          "method" : {
            "type" : "keyword"
          },
          "predicted" : {
            "type" : "boolean"
          },
          "rt" : {
            "type" : "float",
            "meta": {"unit": "min"}
          }
        }
      },
      "filename" : {"type" : "keyword"},
      "dbas_alias_name": {"type": "keyword"},
      "path": {"type" : "keyword"},
      "station" : {"type" : "keyword"},
      "inchikey" : {"type" : "keyword"},
      "inchi" : {"type" : "keyword"},
      "smiles" : {"type" : "keyword"},
      "mw" : {"type" : "float", "meta": {"unit": "Da"}},
      "adduct" : {"type" : "keyword"},
      "isotopologue" : {"type" : "keyword"},
      "formula" : {"type" : "keyword"},
      "mz_error" : {"type" : "float", "meta": {"unit": "Da"}}
    }
  }
}